import{w as j}from"./with-props-C6dPk52p.js";import{a as y,o as e,p as c}from"./chunk-D4RADZKF-CAWZMMw9.js";import{u as N,F as x}from"./index.esm-DCPAutZo.js";import{R as _}from"./reactIcons-DEzpUtaI.js";import{u as P}from"./authApi-CEYeTcNd.js";import{y as w}from"./index-BWJ1_Ax8.js";import"./apiSlice-BFrJnRR-.js";import"./authSlice-D-cy1gsF.js";const v=()=>{const[s,f]=y.useState({old:!1,new:!1,confirm:!1}),[u,{error:C,isLoading:p}]=P(),{handleSubmit:h,register:t,formState:{errors:a},reset:b}=N(),{IoMdEye:l,IoMdEyeOff:n}=_,d=r=>{f(o=>({...o,[r]:!o[r]}))},g=async r=>{var o;try{await u(r).unwrap(),w.success("Password change successfully"),b()}catch(i){const m=((o=i==null?void 0:i.data)==null?void 0:o.message)||"Something went wrong";console.log(m),w.error(m)}};return e.jsxs("form",{className:"flex flex-col flex-wrap w-1/3 gap-y-5 py-10 px-10 shadow-xl bg-white/70 rounded-2xl",onSubmit:h(g),children:[e.jsx("div",{className:"relative flex flex-col flex-wrap w-full gap-y-1.5",children:e.jsx(x,{label:"Old Password",error:a.old_password,children:e.jsxs(c.Fragment,{children:[e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-2.5 border border-[#babec0] outline-[#38a8e9] rounded-full",...t("old_password",{required:"Old password is required."}),type:s.old?"text":"password",id:"old_password",name:"old_password",placeholder:"********"}),e.jsx("button",{className:"absolute top-[56%] right-4 cursor-pointer z-50",type:"button",onClick:()=>d("old"),children:s.old?e.jsx(n,{className:"text-xl text-stone-400"}):e.jsx(l,{className:"text-xl text-stone-400"})})]})})}),e.jsx("div",{className:"relative flex flex-col flex-wrap w-full gap-y-1.5",children:e.jsx(x,{label:"New Password",error:a.new_password,children:e.jsxs(c.Fragment,{children:[e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-2.5 border border-[#babec0] outline-[#38a8e9] rounded-full",...t("new_password",{required:"New password is required."}),type:s.new?"text":"password",id:"new_password",name:"new_password",placeholder:"********"}),e.jsx("button",{className:"absolute top-[56%] right-4 cursor-pointer z-50",type:"button",onClick:()=>d("new"),children:s.new?e.jsx(n,{className:"text-xl text-stone-400"}):e.jsx(l,{className:"text-xl text-stone-400"})})]})})}),e.jsx("div",{className:"relative flex flex-col flex-wrap w-full gap-y-1.5",children:e.jsx(x,{label:"Confirm New Password",error:a.confirm_new_password,children:e.jsxs(c.Fragment,{children:[e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-2.5 border border-[#babec0] outline-[#38a8e9] rounded-full",...t("confirm_new_password",{required:"Confirm new password is required."}),type:s.confirm?"text":"password",id:"confirm_new_password",name:"confirm_new_password",placeholder:"********"}),e.jsx("button",{className:"absolute top-[56%] right-4 cursor-pointer z-50",type:"button",onClick:()=>d("confirm"),children:s.confirm?e.jsx(n,{className:"text-xl text-stone-400"}):e.jsx(l,{className:"text-xl text-stone-400"})})]})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-fit",children:e.jsxs("button",{className:"bg-white btn-style rounded-full cursor-pointer px-14 py-4 relative border border-[#38a8e9] uppercase font-medium text-sm overflow-hidden hover:text-white hover:border-black",type:"submit",children:[e.jsx("span",{className:"absolute inset-0 bg-black"}),e.jsx("span",{className:"absolute inset-0 flex justify-center items-center font-semibold",children:p?"Loading...":"Submit"}),p?"Loading...":"Submit"]})})]})};function I({}){return[{title:"PNG - Point Dashboard Password Change"},{name:"description",content:"Welcome to png point dashboard!"}]}const L=j(function(){return e.jsx("div",{className:"flex flex-col flex-wrap px-10 py-3.5 w-full h-[82%] relative overflow-hidden",children:e.jsx("div",{className:"flex flex-col flex-wrap justify-center items-center w-full h-full",children:e.jsx(v,{})})})});export{L as default,I as meta};
