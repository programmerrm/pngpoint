import{w as h}from"./with-props-C6dPk52p.js";import{o as e,a as f}from"./chunk-D4RADZKF-CAWZMMw9.js";import{a as j}from"./apiSlice-BFrJnRR-.js";import{u as g,F as o}from"./index.esm-DCPAutZo.js";import"./index-BWJ1_Ax8.js";import"./authSlice-D-cy1gsF.js";const y=j.injectEndpoints({endpoints:t=>({getAdminProfile:t.query({query:()=>"/accounts/admin/profile/"}),adminProfileUpdated:t.mutation({query:s=>({url:"/accounts/admin-profile/updated/",body:s,method:"PUT"})})})}),{useGetAdminProfileQuery:N,useAdminProfileUpdatedMutation:w}=y,v=({profile:t,onCancel:s})=>{const{register:a,handleSubmit:l,formState:{errors:r},reset:c}=g(),[i]=w(),x=async b=>{var m;try{const d=Object.entries(b).reduce((p,[u,n])=>((typeof n=="string"&&n.trim()!==""||n instanceof FileList&&n.length>0||n&&typeof n!="string"&&!(n instanceof FileList))&&(p[u]=n),p),{});console.log("Filtered form data:",d),await i(d).unwrap(),c(),s()}catch(d){(m=d==null?void 0:d.data)!=null&&m.message}};return e.jsxs("form",{onSubmit:l(x),className:"space-y-2",children:[e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-1",children:e.jsx(o,{label:"Image",error:r.image,children:e.jsx("input",{className:`text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400\r
               text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full`,type:"file",accept:"image/*",...a("image")})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-1",children:e.jsx(o,{label:"Username",error:r.username,children:e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full",...a("username"),placeholder:t==null?void 0:t.username,type:"text",name:"username",id:"username"})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-1",children:e.jsx(o,{label:"Email",error:r.email,children:e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full",...a("email"),type:"email",id:"email",name:"email",placeholder:t==null?void 0:t.email})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-1",children:e.jsx(o,{label:"First Name",error:r.first_name,children:e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full",...a("first_name"),type:"text",id:"first_name",name:"first_name",placeholder:t==null?void 0:t.first_name})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-1",children:e.jsx(o,{label:"Last Name",error:r.last_name,children:e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full",...a("last_name"),type:"text",id:"last_name",name:"last_name",placeholder:t==null?void 0:t.last_name})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-",children:e.jsx(o,{label:"Phone Number",error:r.number,children:e.jsx("input",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full",...a("number"),type:"text",id:"number",name:"number",placeholder:t==null?void 0:t.number})})}),e.jsx("div",{className:"flex flex-col flex-wrap w-full gap-y-1",children:e.jsx(o,{label:"Gender",error:r.gender,children:e.jsxs("select",{className:"text-base font-normal placeholder:text-base placeholder:font-normal placeholder:text-stone-400 text-black/90 px-5 py-3 border border-[#babec0] outline-[#38a8e9] rounded-full",...a("gender"),id:"gender",name:"gender",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})})}),e.jsxs("div",{className:"flex flex-row flex-wrap space-x-5",children:[e.jsxs("button",{className:"cursor-pointer text-white bg-blue-600 btn-style rounded-full px-14 py-4 relative border border-[#38a8e9] uppercase font-medium text-sm overflow-hidden hover:text-white hover:border-black",children:[e.jsx("span",{className:"absolute inset-0 bg-black"}),e.jsx("span",{className:"absolute inset-0 flex justify-center items-center font-semibold",children:"Save"}),"Save"]}),e.jsxs("button",{className:"cursor-pointer bg-white btn-style rounded-full px-14 py-4 relative border border-[#38a8e9] uppercase font-medium text-sm overflow-hidden hover:text-white hover:border-black",onClick:s,children:[e.jsx("span",{className:"absolute inset-0 bg-black"}),e.jsx("span",{className:"absolute inset-0 flex justify-center items-center font-semibold",children:"Cancel"}),"Cancel"]})]})]})};function S({}){return[{title:"PNG - Point Dashboard Profile"},{name:"description",content:"Welcome to png point dashboard!"}]}const C=h(function(){const{data:s,isLoading:a}=N(void 0,{refetchOnMountOrArgChange:!0}),l=s==null?void 0:s[0],[r,c]=f.useState(!1),i=()=>c(x=>!x);return e.jsx("div",{className:"flex flex-col flex-wrap px-10 py-3.5 w-full h-[82%] relative overflow-hidden",children:e.jsx("div",{className:"flex flex-col flex-wrap justify-center items-center w-full h-full",children:!a&&l&&e.jsx("div",{className:"flex flex-col flex-wrap mx-auto w-1/3 py-10 px-10 shadow-xl bg-white/70 rounded-2xl space-y-4 text-base text-gray-800",children:r?e.jsx(v,{profile:l,onCancel:i}):e.jsxs(e.Fragment,{children:[e.jsx("img",{className:"w-52 h-44 object-cover rounded",src:(l==null?void 0:l.image)||void 0,alt:l.username}),e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",l.username||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",l.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"First Name:"})," ",l.first_name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Name:"})," ",l.last_name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone Number:"})," ",l.number||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gender:"})," ",l.gender||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",l.role||"N/A"]}),e.jsx("div",{className:"flex flex-col flex-wrap w-fit",children:e.jsxs("button",{className:"cursor-pointer bg-white btn-style rounded-full px-14 py-4 relative border border-[#38a8e9] uppercase font-medium text-sm overflow-hidden hover:text-white hover:border-black",onClick:i,children:[e.jsx("span",{className:"absolute inset-0 bg-black"}),e.jsx("span",{className:"absolute inset-0 flex justify-center items-center font-semibold",children:"Edit"}),"Edit"]})})]})})})})});export{C as default,S as meta};
